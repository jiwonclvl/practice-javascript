## State

ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ìì™€ì˜ **ìƒí˜¸ì‘ìš©ì— ë”°ë¼ í™”ë©´ì˜ ë‚´ìš©ì„ ë™ì ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ê²½ìš°**ê°€ ë§ìŠµë‹ˆë‹¤.

â¡ï¸ ReactëŠ” ì´ëŸ¬í•œ ë³€í™”ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— `ìƒíƒœ(State)ë¥¼ ì €ì¥`í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

> ğŸ‘‰ğŸ» StateëŠ” ì»´í¬ë„ŒíŠ¸ê°€ **ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•**ì´ë©°,
<ins>Stateê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ìë™ìœ¼ë¡œ ë‹¤ì‹œ ë Œë”ë§ë˜ì–´ í™”ë©´ì´ ì—…ë°ì´íŠ¸</ins>ë©ë‹ˆë‹¤.

<br>

### ê°’ ë³€ê²½ì´ ê°ì§€ë˜ì§€ ì•ŠëŠ” ì´ìœ 

- ì§€ì—­ ë³€ìˆ˜ëŠ” ë Œë”ë§ ê°„ì— ìœ ì§€ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°’ì˜ ë³€í™”ê°€ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 


ë”°ë¼ì„œ, ê°’ì„ ì—…ë°ì´íŠ¸ ì‹œí‚¤ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” ë‘ê°€ì§€ê°€ í•„ìš”í•©ë‹ˆë‹¤. 

- ë Œë”ë§ ì‚¬ì´ì— ë°ì´í„° ìœ ì§€ â¡ï¸ **state ë³€ìˆ˜ ì¶”ê°€**
- ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§ í•˜ë„ë¡ ìœ ë°œ â¡ï¸ **state setter í•¨ìˆ˜ ì‚¬ìš©**

<br>

### state ë³€ìˆ˜ ì¶”ê°€

**1. ëª¨ë“ˆ ì„ ì–¸**

`import {useState} from 'react;`

**2. state ë³€ìˆ˜ ë° setter í•¨ìˆ˜ ì„ ì–¸**

`const [index, setIndex] = userState(0)`

`index`ëŠ” **state ë³€ìˆ˜**ì´ê³  `setIndex`ëŠ” **setterí•¨ìˆ˜**ì…ë‹ˆë‹¤. 

**[ì˜ˆì‹œ]**

```js
import { useState } from 'react'

export default function Test() {
    const [index, setIndex] = useState(0); //indexë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™” í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. 
    
    function handleButton() {
        return setIndex(index + 1);
    }
    
    return (
        <>
          <h1>
              {index} ë²ˆ ë²„íŠ¼ì„ ëˆŒë €ìŠµë‹ˆë‹¤.
          </h1>
          <button onClick={handleButton}>
                ë²„íŠ¼
          </button>
        </>
    );
}
```

<img width="537" height="132" alt="Image" src="https://github.com/user-attachments/assets/d543cf81-2719-4fc2-a3d0-375e15c5a5d1" />

<br>

## í›…

- useStateì²˜ëŸ¼ **'use'ë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  í•¨ìˆ˜ë¥¼ í›…**ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. 


- ë Œë”ë§ ì¤‘ì¼ ë•Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤. 


- ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒë‹¨ or ì»¤ìŠ¤í…€ í›…ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤. 


- `ifë¬¸`, `ë°˜ë³µë¬¸`, `ì¤‘ì²© í•¨ìˆ˜` ë‚´ë¶€ì—ì„œëŠ” **í˜¸ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.** 

<br>

###  Reactì˜ í›… ê´€ë¦¬ ë°©ë²•

ì•„ë˜ì™€ ê°™ì´ ì—¬ëŸ¬ê°œì˜ stateê°€ ì„ ì–¸ë˜ì–´ ìˆëŠ” ìƒí™©ì—ì„œ ë³€ìˆ˜ëª…ë„ ì—†ê³ , ì‹ë³„ìë„ ì—†ëŠ” useState()ê°€ ì–´ë–¤ ê°’ì„ ê°€ë¦¬í‚¤ëŠ”ì§€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆì„ê¹Œìš”?

```js
const [first, setFirst] = useSate(); 
const [second, setSecond] = useSate();
```

â¡ï¸ ReactëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ ë  ë•Œ useState()ê°€ ëª‡ë²ˆì§¸ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ê¸°ì–µí•©ë‹ˆë‹¤. (**í˜¸ì¶œ ìˆœì„œ ê¸°ì–µ**)


> ğŸ’¡ **ìˆœì„œë¥¼ ê¸°ì–µí•˜ê¸° ë•Œë¬¸ì— ì¡°ê±´ë¬¸ì´ë‚˜ forë¬¸ì— ì‚¬ìš©ì‹œ Reactê°€ ìˆœì„œë¥¼ í—·ê°ˆë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ stateëŠ” ìµœìƒë‹¨ì—ë§Œ í˜¸ì¶œí•´ì•¼í•©ë‹ˆë‹¤.** 

<br>

## State íŠ¹ì§• (ìŠ¤ëƒ…ìƒ·)

ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ í™”ë©´ì— ì¶œë ¥ë˜ëŠ” numberì˜ ê°’ì€ 1ì…ë‹ˆë‹¤.

```js
import { useState } from 'react';

export default function Counter() {
    const [number, setNumber] = useState(0);

    return (
        <>
            <h1>{number}</h1>
            <button onClick={() => {
                setNumber(number + 1); // numberëŠ” ì•„ì§ 0 â setNumber(1) 
                setNumber(number + 1); // numberëŠ” ì•„ì§ 0 â setNumber(1)
                setNumber(number + 1); // numberëŠ” ì•„ì§ 0 â setNumber(1)
            }}>+3</button>
        </>
    )
}
```

setterì˜ ê²½ìš° ì¦‰ì‹œ ì‹¤í–‰ë˜ì§€ ì•Šê³  ë Œë”ë§ ì‹œ ë°”ê¿€ ê°’ìœ¼ë¡œ ì˜ˆì•½í•©ë‹ˆë‹¤.

ìœ„ì˜ ì½”ë“œì—ì„œëŠ” ë‹¨ìˆœíˆ numner(=0)ì„ 1ë¡œ ë³€ê²½í•˜ê² ë‹¤ëŠ” ì˜ˆì•½ë§Œ í•œ ìƒíƒœê°€ ë©ë‹ˆë‹¤.

> **ğŸ—¨ï¸ ê·¸ë ‡ë‹¤ë©´ ë Œë”ë§ ì „ ê°’ì— ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ì„ ë•ŒëŠ” ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?**
> 
> â¡ï¸ ì—…ë°ì´í„° í•¨ìˆ˜(updater function)

<br>

## State íŠ¹ì§• (ì—…ë°ì´íŠ¸ í)

ë‹¤ë¦„ ë Œë”ë§ì„ ì˜ˆì•½í•˜ê¸° ì „ì— ê°’ì— ëŒ€í•´ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” `setNumber(n => n + 1)`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js
import { useState } from 'react';

export default function Counter() {
    const [number, setNumber] = useState(0);

    return (
        <>
            <h1>{number}</h1>
            <button onClick={() => {
                setNumber(number + 1); // number + 1 ì‘ì—… íì— ì¶”ê°€ 
                setNumber(n => n + 1); // number + 1 ì‘ì—… íì— ì¶”ê°€ 
                setNumber(n => n + 1); // number + 1 ì‘ì—… íì— ì¶”ê°€ 
            }}>+3</button>
        </>
    )
}
```

ReactëŠ” state íì— ì¶”ê°€ëœ ì‘ì—…ì„ ìˆœíšŒí•˜ë©° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ìµœì¢… ê²°ê³¼ë¥¼ ì €ì¥í•´ ë°˜í™˜í•©ë‹ˆë‹¤.

>  ğŸ’¡**ëª…ëª… ê·œì¹™**
> 
> ì—…ë°ì´í„° í•¨ìˆ˜ì˜ ì¸ìˆ˜ ì´ë¦„ì€ **stateë³€ìˆ˜ì˜ ì²«ê¸€ìë¡œ ì§€ì •**í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. 

<br>




<br>

## ê³µì‹ ë¬¸ì„œ ë¬¸ì œ

**[2. state íë¥¼ ì§ì ‘ êµ¬í˜„í•´ ë³´ì„¸ìš”.](https://ko.react.dev/learn/queueing-a-series-of-state-updates)**

```js
export function getFinalState(baseState, queue) {
  let finalState = baseState;

  //í ìˆœíšŒ
  for (let i = 0; i < queue.length; i++) {
    let value = queue[i]; 

    //íì˜ ìš”ì†Œê°€ í•¨ìˆ˜ì¸ ê²½ìš°
    if ('function' === typeof value) {
      value(finalState);
    } else {
      finalState = value; 
    }
    
  }

  return finalState;
}
```

